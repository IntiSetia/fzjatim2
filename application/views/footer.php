
<footer class="main-footer">
    <div class="pull-right hidden-xs">
        <b>Version</b> 1.0.0
    </div>
    <strong>Copyright &copy; 2017 <a href="http://telkomakses.com">Telkom Akses</a>.</strong> All rights
    reserved.
</footer>

<!-- Control Sidebar -->
<aside class="control-sidebar control-sidebar-dark">
    <!-- Create the tabs -->
    <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
        <li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
        <li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
        <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">?
        <!-- Home tab content -->
        <div class="tab-pane" id="control-sidebar-home-tab">
            <h3 class="control-sidebar-heading">Recent Activity</h3>
            <ul class="control-sidebar-menu">
                <li>
                    <a href="javascript:void(0)">
                        <i class="menu-icon fa fa-birthday-cake bg-red"></i>

                        <div class="menu-info">
                            <h4 class="control-sidebar-subheading">Langdon's Birthday</h4>

                            <p>Will be 23 on April 24th</p>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="javascript:void(0)">
                        <i class="menu-icon fa fa-user bg-yellow"></i>

                        <div class="menu-info">
                            <h4 class="control-sidebar-subheading">Frodo Updated His Profile</h4>

                            <p>New phone +1(800)555-1234</p>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="javascript:void(0)">
                        <i class="menu-icon fa fa-envelope-o bg-light-blue"></i>

                        <div class="menu-info">
                            <h4 class="control-sidebar-subheading">Nora Joined Mailing List</h4>

                            <p>nora@example.com</p>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="javascript:void(0)">
                        <i class="menu-icon fa fa-file-code-o bg-green"></i>

                        <div class="menu-info">
                            <h4 class="control-sidebar-subheading">Cron Job 254 Executed</h4>

                            <p>Execution time 5 seconds</p>
                        </div>
                    </a>
                </li>
            </ul>
            <!-- /.control-sidebar-menu -->

            <h3 class="control-sidebar-heading">Tasks Progress</h3>
            <ul class="control-sidebar-menu">
                <li>
                    <a href="javascript:void(0)">
                        <h4 class="control-sidebar-subheading">
                            Custom Template Design
                            <span class="label label-danger pull-right">70%</span>
                        </h4>

                        <div class="progress progress-xxs">
                            <div class="progress-bar progress-bar-danger" style="width: 70%"></div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="javascript:void(0)">
                        <h4 class="control-sidebar-subheading">
                            Update Resume
                            <span class="label label-success pull-right">95%</span>
                        </h4>

                        <div class="progress progress-xxs">
                            <div class="progress-bar progress-bar-success" style="width: 95%"></div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="javascript:void(0)">
                        <h4 class="control-sidebar-subheading">
                            Laravel Integration
                            <span class="label label-warning pull-right">50%</span>
                        </h4>

                        <div class="progress progress-xxs">
                            <div class="progress-bar progress-bar-warning" style="width: 50%"></div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="javascript:void(0)">
                        <h4 class="control-sidebar-subheading">
                            Back End Framework
                            <span class="label label-primary pull-right">68%</span>
                        </h4>

                        <div class="progress progress-xxs">
                            <div class="progress-bar progress-bar-primary" style="width: 68%"></div>
                        </div>
                    </a>
                </li>
            </ul>
            <!-- /.control-sidebar-menu -->

        </div>
        <!-- /.tab-pane -->
        <!-- Stats tab content -->
        <div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div>
        <!-- /.tab-pane -->
        <!-- Settings tab content -->
        <div class="tab-pane" id="control-sidebar-settings-tab">
            <form method="post">
                <h3 class="control-sidebar-heading">General Settings</h3>

                <div class="form-group">
                    <label class="control-sidebar-subheading">
                        Report panel usage
                        <input type="checkbox" class="pull-right" checked>
                    </label>

                    <p>
                        Some information about this general settings option
                    </p>
                </div>
                <!-- /.form-group -->

                <div class="form-group">
                    <label class="control-sidebar-subheading">
                        Allow mail redirect
                        <input type="checkbox" class="pull-right" checked>
                    </label>

                    <p>
                        Other sets of options are available
                    </p>
                </div>
                <!-- /.form-group -->

                <div class="form-group">
                    <label class="control-sidebar-subheading">
                        Expose author name in posts
                        <input type="checkbox" class="pull-right" checked>
                    </label>

                    <p>
                        Allow the user to show his name in blog posts
                    </p>
                </div>
                <!-- /.form-group -->

                <h3 class="control-sidebar-heading">Chat Settings</h3>

                <div class="form-group">
                    <label class="control-sidebar-subheading">
                        Show me as online
                        <input type="checkbox" class="pull-right" checked>
                    </label>
                </div>
                <!-- /.form-group -->

                <div class="form-group">
                    <label class="control-sidebar-subheading">
                        Turn off notifications
                        <input type="checkbox" class="pull-right">
                    </label>
                </div>
                <!-- /.form-group -->

                <div class="form-group">
                    <label class="control-sidebar-subheading">
                        Delete chat history
                        <a href="javascript:void(0)" class="text-red pull-right"><i class="fa fa-trash-o"></i></a>
                    </label>
                </div>
                <!-- /.form-group -->
            </form>
        </div>
        <!-- /.tab-pane -->
    </div>
</aside>
<!-- /.control-sidebar -->
<!-- Add the sidebar's background. This div must be placed
     immediately after the control sidebar -->
<div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->

<!-- jQuery 2.2.3 -->
<script src="<?=base_url();?>assets/plugins/jQuery/jquery-2.2.3.min.js"></script>
<script src="<?php echo base_url(); ?>assets/jquery.min.js"></script>
<script type="text/javascript" src="<?php echo base_url(); ?>assets/jquery.chained.min.js"></script>
<!-- Bootstrap 3.3.6 -->
<script src="<?=base_url();?>assets/bootstrap/js/bootstrap.min.js"></script>
<!-- DataTables -->
<script src="<?=base_url();?>assets/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="<?=base_url();?>assets/plugins/datatables/dataTables.bootstrap.min.js"></script>
<!-- SlimScroll -->
<script src="<?=base_url();?>assets/plugins/slimScroll/jquery.slimscroll.min.js"></script>
<!-- FastClick -->
<script src="<?=base_url();?>assets/plugins/fastclick/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="<?=base_url();?>assets/dist/js/app.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="<?=base_url();?>assets/dist/js/demo.js"></script>
<!-- date-range-picker -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
<script src="<?=base_url();?>assets/plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap datepicker -->
<script src="<?=base_url();?>assets/plugins/datepicker/bootstrap-datepicker.js"></script>
<!-- Select2 -->
<script src="<?=base_url();?>assets/plugins/select2/select2.full.min.js"></script>
<!-- page script -->
<!-- Chart -->
<script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
<script src="https://www.amcharts.com/lib/3/pie.js"></script>
<script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
<script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
<script src="https://www.amcharts.com/lib/3/serial.js"></script>
<!--
<script src="https://code.jquery.com/jquery-1.12.4.js"></script> -->
<script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.flash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.print.min.js"></script>

<!-- Sweet Alert-->
<script src="<?php echo base_url();?>assets/dist/js/sweetalert2.all.min.js"></script>

<script type="text/javascript">

    $( "#nosn" ).keyup(function() {
        $.ajax({
            type      : "POST",
            url       : "<?php echo base_url('index.php/SearchSN/search_sn/');?>",
            data      : $('.formSearch').serialize(),
            success   : function(data){
                // console.log('a');
                $('.isi').empty();
                $('.isi').append(data);
            }
        });
    });

    $('#listplan').DataTable( {
        "scrollX": true,
        dom: 'Bfrtip',
        buttons: [
            'copy','excel', 'pdf'
        ]
    } );

    $(document).ready(function(){
        $('#realtable').DataTable( {
            dom: 'Bfrtip',
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
            ]
        } );

        $(".designator").select2({
            placeholder: "Masukkan ID Designator", //placeholder
            tags: true,
            tokenSeparators: ['/',',',';']
        });

        $(document).on("keyup", ".volume", function(event){
            var designatorPos = '';
            console.log('tes');
            if($(this).attr('pos') != null || $(this).attr('pos') != undefined){
                designatorPos = $(this).attr('pos');
                console.log('test');
            }

            var material    = $(document).find('#material'+designatorPos).val();
            var jasa        = $(document).find('#jasa'+designatorPos).val();
            var volume      = $(this).val();

            var hasil       = (volume * jasa) + (volume * material);

            $(document).find('#jumlah'+designatorPos).val(hasil);

            var i           = '';
            var totaljumlah = 0;
            for (i = 1; i <= designatorPos; i++) {
                var get         = $('#jumlah'+i).val();
                /*alert(get);*/
                var jumlah      = Number(get);
                totaljumlah     = totaljumlah + jumlah;
            }

            document.getElementById("totaljumlah").value = totaljumlah.toLocaleString('en');
            //$(document).find('#totaljumlah').val(totaljumlah);

        })

        $(document).on("keyup", ".volumemat", function(event){
            var designatorPos = '';
            //console.log('tes');
            if($(this).attr('pos') != null || $(this).attr('pos') != undefined){
                designatorPos = $(this).attr('pos');
                //console.log('test');
            }

            var material    = $(document).find('#material'+designatorPos).val();
            var volume      = $(this).val();

            var hasil       = volume * material;

            var jumlah      = parseInt($(document).find('#jumlah'+designatorPos).val());

            /*alert(material);
            alert(volume);
            alert(hasil);
            alert(jumlah);*/

            if (jumlah == null){
                $(document).find('#jumlah'+designatorPos).val(hasil);
            } else {
                var total   = hasil + jumlah;
                $(document).find('#jumlah'+designatorPos).val(total);
            }

        })

        $(document).on("keyup", ".volumejas", function(event){
            var designatorPos = '';
            //console.log('tes');
            if($(this).attr('pos') != null || $(this).attr('pos') != undefined){
                designatorPos = $(this).attr('pos');
                //console.log('test');
            }

            var jasa        = $(document).find('#jasa'+designatorPos).val();
            var volume      = $(this).val();

            var hasil       = volume * jasa;

            var jumlah      = parseInt($(document).find('#jumlah'+designatorPos).val());

            var total       = hasil + jumlah;

            /*alert(volume);
            alert(hasil);
            alert(jumlah);
            alert(total);*/

            if (jumlah == null){
                $(document).find('#jumlah'+designatorPos).val(hasil);
            } else {
                $(document).find('#jumlah'+designatorPos).val(total);
            }

        })

        $(document).on("keyup", ".volumemitra", function(event){
            var designatorPos = '';
            console.log('tes');
            if($(this).attr('pos') != null || $(this).attr('pos') != undefined){
                designatorPos = $(this).attr('pos');
                console.log('test');
            }

            var material    = $(document).find('#materialmitra'+designatorPos).val();
            var jasa        = $(document).find('#jasamitra'+designatorPos).val();
            var volume      = $(this).val();

            var hasil       = (volume * jasa) + (volume * material);

            $(document).find('#jumlahmitra'+designatorPos).val(hasil);

            var i           = '';
            var totaljumlah = 0;
            for (i = 1; i <= designatorPos; i++) {
                var get         = $('#jumlahmitra'+i).val();
                alert(get);
                /*var jumlah      = Number(get);*/
                totaljumlah     = totaljumlah + jumlah;
            }

            document.getElementById("totaljumlahmitra").value = totaljumlah.toLocaleString('en');
            //$(document).find('#totaljumlah').val(totaljumlah);
        })

        function numberWithCommas(x) {
            x = x.toString();
            var pattern = /(-?\d+)(\d{3})/;
            while (pattern.test(x))
                x = x.replace(pattern, "$1,$2");
            return x;
        }

        $(document).on( "change", ".designator-select", function( event ) {
            //var designator = $(this).val();
            var designatorPos = '';
            /*console.log('tes');*/
            if($(this).attr('pos') != null || $(this).attr('pos') != undefined){
                designatorPos = $(this).attr('pos');
                /*console.log('test');*/
            }
            $.ajax({
                type : 'POST',
                url  : '<?= base_url('index.php/tagihan/getmaterialjasa'); ?>',
                data : {
                    designator : $(this).val()
                },
                success : function(data){
                    console.log(data);
                    data = JSON.parse(data);
                    /*document.getElementById("material").value = data.harga_material.toLocaleString('en');
                    document.getElementById("jasa").value = data.harga_jasa.toLocaleString('en');*/
                    //console.log( $(document).find('#material'+designatorPos).remove());
                    console.log(designatorPos);
                    $(document).find('#material'+designatorPos).val(data.harga_material);
                    $(document).find('#jasa'+designatorPos).val(data.harga_jasa);
                }
            });
            //alert(idkhstelkom);
        });

        $('#approval').click(function(e){
            console.log("test");
            e.preventDefault();
            $('#modal-approval').find('.modal-title').text('HALO ') + $(this).attr('approv');
            $('#modal-approval').find('#form-approval').attr('action', '<?php echo base_url()."index.php/tagihan/approvalplan/" ?>'+$(this).attr('id-approv'))
            $('#modal-approval').modal('show');
        });

        $('#approval2').click(function(e){
            console.log("test");

            e.preventDefault();
            $('#modal-approval').find('.modal-title').text('APPROVAL ' )+ $(this).attr('id-approv');
            $('#modal-approval').find('#form-approval').attr('action', '<?php echo base_url()."index.php/tagihan/approval/" ?>'+$(this).attr('id-approv'))
            $('#modal-approval').modal('show');
        });

        $(document).on( "change", ".designator-select-mitra", function( event ) {
            //var designator = $(this).val();
            var designatorPos = '';
            console.log('tes');
            if($(this).attr('pos') != null || $(this).attr('pos') != undefined){
                designatorPos = $(this).attr('pos');
                console.log('test');
            }
            $.ajax({
                type : 'POST',
                url  : '<?= base_url('index.php/tagihan/getmaterialjasamitra'); ?>',
                data : {
                    designator : $(this).val()
                },
                success : function(data){
                    console.log(data);
                    data = JSON.parse(data);
                    /*document.getElementById("material").value = data.harga_material.toLocaleString('en');
                    document.getElementById("jasa").value = data.harga_jasa.toLocaleString('en');*/
                    //console.log( $(document).find('#material'+designatorPos).remove());
                    console.log(designatorPos);
                    $(document).find('#materialmitra'+designatorPos).val(data.harga_material);
                    $(document).find('#jasamitra'+designatorPos).val(data.harga_jasa);
                }
            });
            //alert(idkhstelkom);
        });

    })

    $('#sx').DataTable( {
        "scrollX": true
    } );

    $('#reset_material0').click(function () {
        document.getElementById("material0").value = "0";
    });
</script>

<!--INPUT PLAN || LIST ITEM DESIGNATOR-->
<script type="text/javascript">
    var rowCount = 1;
    var optionPublic;

    function addMoreReason() {
        rowCount++;
        var recRow = '<div class="form-group">\n' +
            '<label class="col-sm-2 control-label">Nama Pegawai</label>\n' +
            '<div class="col-sm-9">\n' +
            '<select class="js-example-placeholder-single js-states form-control"\n' +
            'name="khs" id="khstelkom" required>' +
            '<option value=""  selected>Nama Pegawai</option>' +
            '<option value=""  selected>Pilih Pegawai</option>' +
            '</select>' +
            '</div>' +
            '</div>' +
            '<div class="form-group">\n' +
            '<label class="col-sm-2 control-label">Alasan</label>\n' +
            '<div class="col-sm-9">\n' +
            '<select class="js-example-placeholder-single js-states form-control"\n' +
            'name="khs" id="khstelkom" required>' +
            '<option value=""  selected>Alpha</option>' +
            '<option value=""  selected>Sakit</option>' +
            '</select>' +
            '</div>' +
            '</div>';
        jQuery('#addedReason').append(recRow);
        $('select[id="namapeg' + rowCount + '"]').html(optionPublic);
        $('select[id="namapeg' + rowCount + '"]').select2();
    }

    function addMoreRows(frm) {
        rowCount++;
        var recRow = '<div class="form-group" id="rowCount' + rowCount + '"><table class="table table-condensed" id="addDesignator' + rowCount + '"><tr ><th style="text-align: center; width: 75px">&nbsp;</th><td style="text-align: center; width: 287px"><select class="js-example-placeholder-single js-states form-control designator-select" id="designator'+ rowCount +'" pos="'+ rowCount +'" name="designator[]" required/></select></td><td style="width: 230px; text-align: center;"><div id="material">&nbsp;</div></td><td style="width: 225px; text-align: center;"><div id="jasa">&nbsp;</div></td><td style="width: 214px; text-align: center;"><input class="form-control" onkeyup="myVolume()" id="volume" type="text" name="volume[]" /></td><td style="width: 214px; text-align: center;"><div id="jumlah">&nbsp;</td><td><button class="fa btn btn-danger fa-minus" onclick="removeRow(' + rowCount + ');"></button></td><th style="text-align: center">&nbsp;</th><th style="text-align: center">&nbsp;</th></tr></table></div>';
        jQuery('#addedRows').append(recRow);
        $('select[id="designator' + rowCount + '"]').html(optionPublic);

        var jumlah = document.querySelector('.jumlah').value;
    }

    function addMoreRows2(frm) {
        rowCount++;
        var recRow = '<tr id="rowCount' + rowCount + '"><th style="text-align: center; width: 75px">&nbsp;</th><td style="text-align: center; width: 287px"><select class="js-example-placeholder-single js-states form-control designator-select" id="designator'+ rowCount +'" pos="'+ rowCount +'" name="designator[]" required/></select></td><td style="width: 230px; text-align: center;"><input class="form-control" style="text-align: center;" type="text" pos="'+ rowCount +'" name="material" id="material'+ rowCount +'" readonly="readonly" /></td><td style="width: 225px; text-align: center;"><input style="text-align: center;" class="form-control" type="text" pos="'+ rowCount +'" name="jasa" id="jasa'+ rowCount +'" readonly="readonly" /></td><td style="width: 214px; text-align: center;"><input class="form-control volume" style="text-align: center;" pos="'+ rowCount +'" id="volume" type="text" name="volume[]" /></td><td style="width: 214px; text-align: center;"><input style="text-align: center;" class="form-control jumlah'+ rowCount +'" type="text" pos="'+ rowCount +'" name="jumlah" id="jumlah'+ rowCount +'" readonly="readonly"/></td><td><button class="fa btn btn-danger fa-minus" onclick="removeRow(' + rowCount + ');"></button></td><th style="text-align: center">&nbsp;</th><th style="text-align: center">&nbsp;</th></tr>';
        jQuery('#addDesignator').append(recRow);

        $('select[id="designator' + rowCount + '"]').html(optionPublic);
        $('select[id="designator' + rowCount + '"]').select2();

        //SEMANGAT TEF
        /*var designatorPos = '';
        console.log('masuk1);
        if($('input[id="jumlah' + designatorPos + '"]').attr('pos') != null || $('input[id="jumlah' + designatorPos + '"]').attr('pos') != undefined){
            designatorPos = $('input[id="jumlah' + designatorPos + '"]').attr('pos');
            console.log('masuk2');
        }*/
    }

    function addMoreRows3(frm) {
        rowCount++;
        var recRow = '<tr id="rowCount' + rowCount + '"><th style="text-align: center; width: 75px">&nbsp;</th><td style="text-align: center; width: 287px"><select class="js-example-placeholder-single js-states form-control designator-select" id="designator'+ rowCount +'" pos="'+ rowCount +'" name="designator[]" required/></select></td><td><button type="button" class="btn btn-block btn-danger btn-sm" id="reset_material'+ rowCount +'"><b>X</b></button></td><td style="width: 230px; text-align: center;"><input class="form-control" style="text-align: center;" type="text" pos="'+ rowCount +'" name="material" id="material'+ rowCount +'" readonly="readonly" /></td><td style="width: 225px; text-align: center;"><input style="text-align: center;" class="form-control" type="text" pos="'+ rowCount +'" name="jasa" id="jasa'+ rowCount +'" readonly="readonly" /></td><td style="width: 214px; text-align: center;"><input class="form-control volumemat" style="text-align: center;" pos="'+ rowCount +'" id="volumemat" type="text" name="volumemat[]" /></td><td style="width: 214px; text-align: center;"><input class="form-control volumejas" style="text-align: center;" pos="'+ rowCount +'" id="volumejas" type="text" name="volumejas[]" /></td><td style="width: 214px; text-align: center;"><input style="text-align: center;" class="form-control jumlah" type="text" name="jumlah" id="jumlah'+ rowCount +'" readonly="readonly" value="0"/></td><td><button class="fa btn btn-danger fa-minus" onclick="removeRow(' + rowCount + ');"></button></td><th style="text-align: center">&nbsp;</th><th style="text-align: center">&nbsp;</th></tr>';
        jQuery('#addDesignator').append(recRow);

        $('select[id="designator' + rowCount + '"]').html(optionPublic);
        $('select[id="designator' + rowCount + '"]').select2();

        $('#reset_material' + rowCount).click(function () {
            document.getElementById("material" + rowCount).value = "0";
            /*alert('halo');*/
        });
    }

    function addMoreRows4(frm) {
        rowCount++;
        var recRow = '<tr id="rowCount' + rowCount + '"><th style="text-align: center; width: 75px">&nbsp;</th><td style="text-align: center; width: 287px"><select class="js-example-placeholder-single js-states form-control designator-select" id="designator'+ rowCount +'" pos="'+ rowCount +'" name="designator[]" required/></select></td><td><button type="button" class="btn btn-block btn-danger btn-sm" id="reset_material'+ rowCount +'"><b>X</b></button></td><td style="width: 230px; text-align: center;"><input class="form-control" style="text-align: center;" type="text" pos="'+ rowCount +'" name="material[]" id="material'+ rowCount +'" readonly="readonly" /></td><td style="width: 225px; text-align: center;"><input style="text-align: center;" class="form-control" type="text" pos="'+ rowCount +'" name="jasa[]" id="jasa'+ rowCount +'" readonly="readonly" /></td><td style="width: 214px; text-align: center;"><input class="form-control volume" style="text-align: center;" pos="'+ rowCount +'" id="volume" type="text" name="volume[]" /></td><td style="width: 214px; text-align: center;"><input style="text-align: center;" class="form-control jumlah" type="text" name="jumlah" id="jumlah'+ rowCount +'" readonly="readonly"/></td><td><button class="fa btn btn-danger fa-minus" onclick="removeRow(' + rowCount + ');"></button></td><th style="text-align: center">&nbsp;</th><th style="text-align: center">&nbsp;</th></tr>';
        jQuery('#addDesignator').append(recRow);

        $('select[id="designator' + rowCount + '"]').html(optionPublic);
        $('select[id="designator' + rowCount + '"]').select2();

        $('#reset_material' + rowCount).click(function () {
            document.getElementById("material" + rowCount).value = "0";
            /*alert('halo');*/
        });
    }

    function removeRow(removeNum) {
        jQuery('#rowCount'+removeNum).remove();
    }

    function addMoreRowsMitra(frm) {
        rowCount ++;
        var recRow = '<tr id="rowCount' + rowCount + '"><th style="text-align: center; width: 75px">&nbsp;</th><td style="text-align: center; width: 287px"><select class="js-example-placeholder-single js-states form-control designator-select-mitra" id="designatormitra'+ rowCount +'" pos="'+ rowCount +'" name="designatormitra[]" required/></select></td><td style="width: 230px; text-align: center;"><input class="form-control" style="text-align: center;" type="text" pos="'+ rowCount +'" name="materialmitra" id="materialmitra'+ rowCount +'" readonly="readonly" /></td><td style="width: 225px; text-align: center;"><input style="text-align: center;" class="form-control" type="text" pos="'+ rowCount +'" name="jasamitra" id="jasamitra'+ rowCount +'" readonly="readonly" /></td><td style="width: 214px; text-align: center;"><input class="form-control volumemitra" style="text-align: center;" pos="'+ rowCount +'" id="volumemitra" type="text" name="volumemitra[]" /></td><td style="width: 214px; text-align: center;"><input style="text-align: center;" class="form-control" type="text" name="jumlahmitra" id="jumlahmitra'+ rowCount +'" readonly="readonly" /></td><td><button class="fa btn btn-danger fa-minus" onclick="removeRow(' + rowCount + ');"></button></td><th style="text-align: center">&nbsp;</th><th style="text-align: center">&nbsp;</th></tr>';
        jQuery('#addDesignatorMitra').append(recRow);

        $('select[id="designatormitra'+rowCount+'"]').html(optionPublic);
        $('select[id="designatormitra' + rowCount + '"]').select2();
    }

    function removeRowMitra(removeNum) {
        jQuery('#rowCount'+removeNum).remove();
    }

    function addGrouping(frm) {
        rowCount ++;
        var recRow = '<tr id="rowCount' + rowCount + '"><th style="text-align: right; padding-top: 12px;" class="col-sm-2">&nbsp;</th><th>&nbsp;</th><th class="col-sm-8"><select class="form-control" name="khs" id="" required><option value="">Pilih Pekerjaan</option></select></th><th style="text-align: center;"><button class="fa btn btn-danger fa-minus" onclick="removeRowGrouping(' + rowCount + ');"></button></th>/tr>';
        jQuery('#addGrouping').append(recRow);

        //$('select[id="designatormitra'+rowCount+'"]').html(optionPublic);
    }

    function removeRowGrouping(removeNum) {
        jQuery('#rowCount'+removeNum).remove();
    }

    $(".js-example-tags").select2({
        tags: true
    });

    $('#addDesign').click(function () {
        var idkhstelkom = $("#khstelkom").val();
        $.ajax({
            type : 'POST',
            url  : '<?= base_url('index.php/tagihan/listitemdesignatortelkom'); ?>',
            data : {
                khstelkom : $(this).val()
            },
            success : function(option){
                $('select[id="designator"]').html(option);
            }
        });
        //alert(idkhstelkom);
    });

    $('#inputplan').change(function () {
        $('#modal-default').show();
        //alert("halo");
    });

    $('#jenisi').change(function () {
        var jenisi = $("#jenisi").val();

        if(jenisi == "PT1"){
            $('#PT1').show();
            $('#PT2').hide();
            $('#PT3').hide();
        } else if (jenisi == "PT2"){
            $('#PT1').hide();
            $('#PT2').show();
            $('#PT3').hide();
        } else if (jenisi == "PT3"){
            $('#PT1').hide();
            $('#PT2').hide();
            $('#PT3').show();
        }
        /*alert(jenisi);*/
    });

    $('#group').change(function () {
        var barang = $("#group").val();

        if(barang == "Seragam"){
            $('.seragam').show();
            $('#jumlah').hide();
        } else {
            $('.seragam').hide();
        }
        /*alert(jenisi);*/
    });

    $('#namamitra').change(function () {
        var namamitra = $("#namamitra").val();
        if (namamitra === "PT TELKOM AKSES" ){
            $('#boqmitra').hide();
            $('#boqtelkom').show();
        } else {
            $('#boqmitra').show();
            $('#boqtelkom').hide();
        }
        //alert(namamitra);
    });

    $('#namadoc').change(function () {
        var namadoc = $("#namadoc").val();
        if (namadoc === "BASTS" ){
            $('#merahputih').show();
            $('#merah').show();
            $('#docseragam').show();
            $('#docbpjs').hide();
            $('#ket').show();
        } else {
            $('#merahputih').hide();
            $('#merah').hide();
            $('#docseragam').hide();
            $('#docbpjs').show();
            $('#ket').show();
        }
        //alert(namamitra);
    });

    $('#jenis').change(function () {
        var jenis_pekerjaan = $(this).val();
        $('#planpekerjaan').show();

        //var jenis_pekerjaan = $("#jenis_pekerjaan").val();
        $.ajax({
            type : 'POST',
            url  : '<?=base_url('index.php/tagihan/listplanpek'); ?>',
            data : {
                jenis_pekerjaan : $(this).val()
            },
            success : function(option){
                $('select[id="plan_pek_baru"]').html(option);
            }
        });

        //alert(jenis_pekerjaan);
    });

    $('#witel').change(function () {
        var witel = $(this).val();
        $.ajax({
            type : 'POST',
            url  : '<?=base_url('index.php/wh/getsto'); ?>',
            data : {
                witel : $(this).val()
            },
            success : function(option){
                $('select[id="sto"]').html(option);
            }
        });

        //alert(jenis_pekerjaan);
    });

    $('#khstelkom').change(function () {
        var idkhstelkom = $("#khstelkom").val();
        $.ajax({
            type : 'POST',
            url  : '<?= base_url('index.php/tagihan/listitemdesignatortelkom'); ?>',
            data : {
                khstelkom : $(this).val()
            },
            success : function(option){
                $('select[id="designator"]').html(option);
                optionPublic = option;
            }
        });
        //alert(idkhstelkom);
    });

    $('#khstelkom2').change(function () {
        var idkhstelkom = $("#khstelkom2").val();
        $.ajax({
            type : 'POST',
            url  : '<?= base_url('index.php/tagihan/listitemdesignatortelkom'); ?>',
            data : {
                khstelkom : $(this).val()
            },
            success : function(option){
                $('select[id="designator"]').html(option);
                optionPublic = option;
            }
        });
        //alert(idkhstelkom);
    });

    $('#khsmitra').change(function () {
        var idkhsmitra = $("#khsmitra").val();
        $.ajax({
            type : 'POST',
            url  : '<?= base_url('index.php/tagihan/listitemdesignatormitra'); ?>',
            data : {
                khsmitra : $(this).val()
            },
            success : function(option){
                $('select[id="designatormitra"]').html(option);
                optionPublic = option;
            }
        });
        //alert(idkhsmitra);
    });

    $('#jenis_finding').change(function () {
        var jenis_finding = $("#jenis_finding").val();
        if (jenis_finding === "Negative Fact Finding" ){
            $('#jenis_pelanggaran').show();
        }
        /*alert(jenis_finding);*/
    });

    //select option plan pekerjaan get from plan auto view
    /*$('#plan_pek_baru').change(function () {
        var plan_pek_baru = $("#plan_pek_baru").val();
        $('#datainsidentil').show();
        $('#boqplan').show();
        $.ajax({
            type : 'POST',
            url  : '<?=base_url('index.php/tagihan/detaildatapekerjaan'); ?>',
            data : {
                plan_pek_baru : $(this).val()
            },
            success : function(data){
                console.log(data);
                data = JSON.parse(data);
                $(document).find('#nama_pekerjaan').val(data.pekerjaan);
                $('select[id="je_pekerjaan"]').html(option);
                //$('#nama_pekerjaan').html(data.pekerjaan);
            }
        });
        //alert(plan_pek_baru);
    });*/

    $('#cari_sc').click(function () {
        var sc = $("#sc").val();
        $.ajax({
            type : 'POST',
            url  : '<?=base_url('index.php/wh/get_sc'); ?>',
            data : {
                sc : $(this).val()
            },
            success : function(data){
                console.log(data);
                data    = JSON.parse(data);
                $(document).find('#order_date_ps').val(data.ORDER_DATE_PS);
                $(document).find('#customer_name').val(data.CUSTOMER_NAME);
            }
        });
        /*alert(sc);*/
    });

    $('#updatedata').click(function(e){
        e.preventDefault();
        /*$('#modal-update').find('.modal-title').text('APPROVAL ');*/

        $('#modal-update').find('#witel').text($(this).attr('id-witel'));
        $('#modal-update').find('#sto').text($(this).attr('id-sto'));
        $('#modal-update').find('#barang').text($(this).attr('id-item'));

        $('#modal-update').find('#form-update').attr('action', '<?php echo base_url()."index.php/wh/updatedatainvent/" ?>'+$(this).attr('id-update'))
        $('#modal-update').modal('show');
    });

    $('#btn-pr').click(function(e){
        e.preventDefault();
        $('#modal-nomor_pr').find('.modal-title').text('UPDATE NOMOR PR ' +$(this).attr('id-pr'));
        $('#modal-nomor_pr').find('#form-pr').attr('action', '<?php echo base_url()."index.php/tagihan/updatenopr/" ?>'+$(this).attr('id-pr'))
        $('#modal-nomor_pr').modal('show');
    });

    $('#editboq').click(function () {
        $('#tot_keb').hide();
        //document.getElementById("volume").disabled = false;
        //document.getElementById('volume').removeAttribute('readonly');
        $('#delete').show();
        $('.volume').attr('readonly', false);
        /*$('#real').hide();
        $('#telkom').show();*/
    });

    $('#realboq').click(function () {
        $('#tot_keb').show();
        $('#real').show();
        $('#telkom').hide();
    });

    $(".js-example-placeholder-single").select2({
        allowClear: true
    });

    /*$("#khstelkom").select2({
        placeholder: "Pilih KHS",
        allowClear: true
    });*/

    $("#groupingpekerjaan").select2({
        placeholder: "Pilih Pekerjaan",
        allowClear: true
    });

    /*$("#designator").select2({
        allowClear: true
    });*/

    $('#getplan').click(function () {
        //alert("halo");
        $('#planpekerjaan').show();
        $('#datainsidentil').hide();
        $('#insidentil').show();
        $('#submit').hide();
        $(this).hide();
    });

    $('#insidentil').click(function () {
        $('#planpekerjaan').hide();
        $(this).hide();
        $('#getplan').show();
        $('#datainsidentil').show();
    });

    /*$("#volume").keypress(function(){
        var material      = document.getElementsbyId('material');
        alert(material);
    });*/

</script>

</body>
</html>